---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description: string;
  date: Date;
  tags: string[];
}

const { title, description, date, tags } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<BaseLayout title={`${title} | N2 Solutions`} description={description}>
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": title,
    "description": description,
    "datePublished": date.toISOString(),
    "author": {
      "@type": "Person",
      "name": "Nick Narcise",
      "url": "https://n2solutions.io/about"
    }
  })} />
  <article class="mx-auto max-w-3xl px-6 py-20">
    <header class="mb-12">
      <a
        href="/blog"
        class="mb-6 inline-flex items-center gap-1 text-sm text-text-muted hover:text-accent"
      >
        &larr; Back to Blog
      </a>
      <h1 class="mb-4">{title}</h1>
      <div class="flex flex-wrap items-center gap-4 text-sm text-text-muted">
        <time datetime={date.toISOString()}>{formattedDate}</time>
        <div class="flex flex-wrap gap-2">
          {
            tags.map((tag) => (
              <span class="rounded-full bg-bg-tertiary px-2 py-0.5 text-xs">
                {tag}
              </span>
            ))
          }
        </div>
      </div>
    </header>

    <div class="prose">
      <slot />
    </div>
  </article>
</BaseLayout>
